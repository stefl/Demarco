-# coding: utf-8
!!! 5
%html{:lang => "en", :xmlns => "http://www.w3.org/1999/xhtml"}
  %head
    %title
      Demarcode
      - if @title
        ="| #{@title}"
    %link{:rel => "shortcut icon", :href=>"/images/icon57x57.png"}/
    %link{:rel => "apple-touch-icon-precomposed", :sizes=>"57x57", :href=>"/images/icon57x57.png"}/
    %link{:rel => "apple-touch-icon-precomposed", :sizes=>"72x72", :href=>"/images/icon72x72.png"}/
    %link{:rel => "apple-touch-icon-precomposed", :sizes=>"114x114", :href=>"/images/icon114x114.png"}/
    %meta{:charset => "utf-8"}/
    %meta{:name => "keywords", :value => "kitty"}
    %meta{:name => "MSSmartTagsPreventParsing", :content => "true"}/
    %meta{:"http-equiv" => "X-UA-Compatible", :content => "chrome=1"}/
    %meta{:name=>"viewport", :content=>"width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=no;"}/
    %meta{:name=>"apple-mobile-web-app-capable", :content=>"yes"}/
    %meta{:name=>"apple-mobile-web-app-status-bar-style", :content=>"black"}/   
    %script{:src=>"/assets/modernizr-2.0.6.min.js",:type=>"text/javascript"}
    <script type="text/javascript" src="http://use.typekit.com/los0dfy.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    = stylesheet_link_tag "/stylesheets/application"
  %body{:class => request.path.split("/").empty? ? "home" : request.path.split("/") }
    .navbar.navbar-fixed-top
      .navbar-inner
        .container
          %a.btn.btn-navbar{"data-target" => ".nav-collapse", "data-toggle" => "collapse"}
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.pjax.brand{:href=>"/", :title => "Demarcode"} 
            Richard Demarco
          
          .nav-collapse
            %ul.nav.nav-pills
              %li{:class=> request.path == "/" ? "active" : ""} 
                %a{:href=>"/"} Overview
              %li#artist_menu.dropdown{:class=> request.path =~ /^\/artists/ ? "active" : ""} 
                %a.dropdown-toggle{:"data-toggle" => "dropdown", :href => "#artist_menu"} 
                  Artists
                  %b{:class=>"caret"}
                %ul.dropdown-menu
                  %li
                    %a{:href => "/artists"} All
                  %li
                    %a{:href => "/artists/marina-abramovic"} Marina Abramovic
                  
              %li#years_menu.dropdown{:class=> request.path =~ /^\/years/ ? "active" : ""} 
                %a.dropdown-toggle{:"data-toggle" => "dropdown", :href => "#years_menu"} 
                  Years
                  %b{:class=>"caret"}
                %ul.dropdown-menu
                  - (1968..2007).each do |year|
                    %li
                      %a{:href => "/years/#{year}"}= year

            

    #main
      #target.container
        = yield

    = javascript_include_tag "/assets/libraries"
    = javascript_include_tag "/assets/application"
    = yield_content :javascripts


